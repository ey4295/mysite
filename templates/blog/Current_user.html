{% load staticfiles %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <!--echarts--->
    <script src="{% static "blog/echarts.min.js" %}"}></script>

	<link rel="apple-touch-icon" sizes="76x76" href="{% static 'getshitdone/assets/img/apple-icon.png' %}">
	<link rel="icon" type="image/png" href="{% static 'getshitdone/assets/img/favicon.png' %}">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>Current users</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />

    <link href="{% static 'getshitdone/bootstrap3/css/bootstrap.css' %}" rel="stylesheet" />
    <link href="{% static 'getshitdone/bootstrap3/css/font-awesome.css' %}" rel="stylesheet" />

	<link href="{% static 'getshitdone/assets/css/gsdk.css' %}" rel="stylesheet" />
    <link href="{% static 'getshitdone/assets/css/demo.css' %}" rel="stylesheet" />

    <!--     Font Awesome     -->

    <link href="{% static 'getshitdone/assets/css/font-awesome.css' %}" rel="stylesheet">
    <link href='{% static 'getshitdone/assets/css/font-latin.css' %}' rel='stylesheet' type='text/css'>

    <!--
    <script src="{% static 'getshitdone/jquery/jquery-1.10.2.js' %}" type="text/javascript"></script>
    -->
    <script src="{% static "blog/heatmap.min.js" %}"></script>
    <script src="{% static "blog/jquery-3.1.1.min.js" %}"></script>
	<script src="{% static 'getshitdone/assets/js/jquery-ui-1.10.4.custom.min.js' %}" type="text/javascript"></script>
	<script src="{% static 'getshitdone/bootstrap3/js/bootstrap.js' %}" type="text/javascript"></script>
	<script src="{% static 'getshitdone/assets/js/gsdk-checkbox.js' %}"></script>
	<script src="{% static 'getshitdone/assets/js/gsdk-radio.js' %}"></script>
	<script src="{% static 'getshitdone/assets/js/gsdk-bootstrapswitch.js' %}"></script>
	<script src="{% static 'getshitdone/assets/js/get-shit-done.js' %}"></script>
    <script src="{% static 'getshitdone/assets/js/custom.js' %}"></script>
</head>
<div id="navbar-full">
    <div id="navbar">
    <!--
        navbar-default can be changed with navbar-ct-blue navbar-ct-azzure navbar-ct-red navbar-ct-green navbar-ct-orange
        -->
        <nav class="navbar navbar-ct-blue navbar-transparent navbar-fixed-top" role="navigation">
          <div class="alert alert-success hidden">
            <div class="container">
                <b>Lorem ipsum</b> dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.
            </div>
          </div>

          <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#gsdk">Xuqh</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav">
                <li class="active"><a href="{% url "posts_list" %}">Homepage</a></li>
                  <li class="active"><a href="{% url "heatmap" %}">Heatmap</a></li>
                  <li class="active"><a href="{% url "usermap" %}">Usermap</a></li>
                  <li class="active"><a href="{% url "current_user" %}">Current visitors</a></li>
                <li class="dropdown">
                      <a href="#gsdk" class="dropdown-toggle" data-toggle="dropdown">Todo <b class="caret"></b></a>
                      <ul class="dropdown-menu">
                        <li><a href="#gsdk">Action</a></li>
                        <li><a href="#gsdk">Another action</a></li>
                        <li><a href="#gsdk">Something</a></li>
                        <li><a href="#gsdk">Another action</a></li>
                        <li><a href="#gsdk">Something</a></li>
                        <li class="divider"></li>
                        <li><a href="#gsdk">Separated link</a></li>
                      </ul>
                </li>
                <li>
                    <a href="javascript:void(0);" data-toggle="search" class="hidden-xs"><i class="fa fa-search"></i></a>
                </li>
              </ul>
               <form class="navbar-form navbar-left navbar-search-form" role="search">
                 <div class="form-group">
                      <input type="text" value="" class="form-control" placeholder="Search...">
                 </div>
              </form>
              <ul class="nav navbar-nav navbar-right">
                    <li><a href="#gsdk">Register</a></li>

                    <li><button href="#gsdk" class="btn btn-round btn-default">Sign in</button></li>
               </ul>

            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
        <div class="blurred-container">
            <div class="img-src" style="background-image: url('{% static 'getshitdone/background.jpg' %}')"></div>
        </div>
    </div><!--  end navbar -->

</div> <!-- end menu-dropdown -->

<body>
<div class="main" id="post_container">
    <div class="container tim-container" style="max-width:800px; padding-top:100px">
<h3>Number of visitors in history:{{ total }}</h3>
<div id="chart" style="height: 500px;width: 1000px">
</div>
 </div>
</div>
</body>
<script>

    function randomData() {
    now = new Date(+now + oneDay);
    value = value + Math.random() * 21 - 10;
    return {
        name: now.toString(),
        value: [
            [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/'),
            Math.round(value)
        ]
    }
}
var myChart = echarts.init(document.getElementById('chart'));
var data = [];
var now = +new Date(1997, 9, 3);
var oneDay = 24 * 3600 * 1000;
var value = Math.random() * 1000;
for (var i = 0; i < 1000; i++) {
    data.push(randomData());
}

option = {
    title: {
        text: 'PageView Now'
    },
    tooltip: {
        trigger: 'axis',
        formatter: function (params) {
            params = params[0];
            var date = new Date(params.name);
            return date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear() + ' : ' + params.value[1];
        },
        axisPointer: {
            animation: false
        }
    },
    xAxis: {
        type: 'time',
        splitLine: {
            show: false
        }
    },
    yAxis: {
        type: 'value',
        boundaryGap: [0, '100%'],
        splitLine: {
            show: false
        }
    },
    series: [{
        name: '模拟数据',
        type: 'line',
        showSymbol: false,
        hoverAnimation: false,
        data: data
    }]
};
 //myChart.setOption(option);
setInterval(function () {
//alert("hello")
    for (var i = 0; i < 5; i++) {
        data.shift();
        data.push(randomData());
    }

    myChart.setOption(option);
}, 1000);

</script>
</html>